<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Agencia Empleo</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/css/uikit.min.css">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <link href="css/output.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&amp;family=Notable&amp;display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&amp;display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&amp;family=Poiret+One&amp;display=swap"
    rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&amp;display=swap" rel="stylesheet">
  <script src=https://ajax.googleapis.com/ajax/libs/prototype/1.7.3.0/prototype.js></script>
</head>

<body class="bg-black" onload="startVideo()">
  <button class="menu-toggle" onclick="toggleMenu()" aria-label="Toggle Menu">&#9776;</button>

  <div class="menu" id="menu"><a href="index.html">Ancora</a><a href="entrada.html">Entrada</a><a
      href="agencia.html">Agencia</a><a href="intermediacion.html">Intermediacion</a><a href="salta.html">Salta</a><a
      href="talento.html">Talento</a><a href="formacion.html">Formacion</a>
  </div><a-scene vr-mode-ui="enabled: true" cursor="rayOrigin: mouse" id="camera"
    position="0 1.6 0"><a-camera><a-look-controls pitchEnabled="false"></a-look-controls></a-camera><a-videosphere
      src="#video" rotation="0 270 0"></a-videosphere>


      <video id="video" loop muted autoplay crossorigin="anonymous" webkit-playsinline="true" playsinline="true" onloadedmetadata="this.currentTime=0">
        <source type="video/mp4" src=""></source>
    </video>
    

    <div class=" imagen-container">
      <a href="index.html">
        <img class="imagen" src="assets/imagenes/submarca_agenciaempleo_vertical_madrid_negro.png" width="300px">
      </a>
    </div>

    <a class="uk-button btnmg uk-button-default" href="#modal-overflow" uk-toggle>Conoce +</a>
    <img class="visible" src="assets/white-swipe.png" alt="">
    <div id="modal-overflow" style="opacity: 0.8;" uk-modal>
      <div class="uk-modal-dialog" id="ancora">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div class="uk-modal-body" uk-overflow-auto>
          <p id="4"></p> 
        </div>
      </div>
    </div>


    <button  id="voiceButton"  class="voice-button" onclick="playVoice()" aria-label="Reproducir voz" uk-icon="icon: rss; ratio: 2"></button>


    <div class="oculto swipe" id="icon-container">
      <div class="path"></div>
      <div class="hand-icon"></div>
    </div>
    <footer class="footer">
      <p style="color: black; font-size: 0.7rem;">© 2024 Agencia Empleo. Todos los derechos reservados.</p>
    </footer>
  </a-scene>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script>

    function startVideo() {
      var video = document.getElementById('video');
      video.play();
    }

    document.addEventListener("DOMContentLoaded", function () {
      var iconContainer = document.getElementById("icon-container");

      setTimeout(function () {
        iconContainer.style.display = "none";
      }, 5000);
    });

    function playVoice() {
    var voiceText = "La Agencia para el Empleo de Madrid es una Agencia de Colocación sin ánimo de lucro autorizada por el Sistema Nacional de Empleo. La intermediación laboral es clave en la búsqueda de empleo, conectando ofertas con demandantes y empresas. Hemos fortalecido nuestros servicios con el Centro de Personas & Empresas, estableciendo alianzas directas con empresas y utilizando nuevas herramientas de evaluación. Captamos talento a través de diferentes medios y ofrecemos capacitación en competencias laborales.";

    var synth = window.speechSynthesis;
    var utterance = new SpeechSynthesisUtterance(voiceText);

    synth.speak(utterance);
  }


fetch('assets/videos.json')
    .then(response => response.json())
    .then(data => {
        const desiredVideoId = "4"; 
        const desiredVideo = data.find(video => video.id === desiredVideoId);
        
        const videoElement = document.getElementById('video');
        videoElement.querySelector('source').setAttribute('src', desiredVideo.sources[0]);
        videoElement.load(); 
    })
    .catch(error => console.error('Error al cargar el archivo JSON:', error));

    function obtenerDatos() {
    fetch('assets/videos.json')
      .then(response => response.json())
      .then(data => {
        const objeto = data.find(item => item.id === "4"); 
        if (objeto) {
          document.getElementById('4').innerText = objeto.description; 
        } else {
          console.error('No se encontró ningún objeto con el ID "1" en el JSON.');
        }
      })
      .catch(error => console.error('Error al obtener los datos:', error));
  }

  document.getElementById('modal-overflow').addEventListener('shown', function () {
    obtenerDatos();
  });


  </script>
  <script>$(document).ready(function () {
      $('.menu-toggle').click(function () {
        $('.menu').toggle();
      });
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/js/uikit-icons.min.js"></script>
</body>

</html>